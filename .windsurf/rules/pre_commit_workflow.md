# üîÑ Pre-commit Workflow - –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
Pre-commit —Ö—É–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç —Å –Ω–µ–∑–∞—Å—Ç–µ–π–¥–∂–µ–Ω–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –∏ stash, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–∞–º –∫–æ–º–º–∏—Ç–∞.

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –ø—Ä–æ–±–ª–µ–º—É!)

### 1. –°–æ—Ö—Ä–∞–Ω—è–µ–º –∞–≤—Ç–æ—Ñ–∏–∫—Å—ã –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ
- **Black** - –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- **Ruff** - –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- **Trailing whitespace** - —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤
- **End-of-file-fixer** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ü–æ–≤ —Ñ–∞–π–ª–æ–≤

### 2. –£—Å—Ç—Ä–∞–Ω—è–µ–º –∫–æ—Ä–µ–Ω–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
–ü—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ —Ö—É–∫–∞—Ö, –∞ –≤ —Å–º–µ—à–∏–≤–∞–Ω–∏–∏ –∑–∞—Å—Ç–µ–π–¥–∂–µ–Ω–Ω—ã—Ö –∏ –Ω–µ–∑–∞—Å—Ç–µ–π–¥–∂–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

### 3. –£–º–Ω—ã–π helper —Å–∫—Ä–∏–ø—Ç
`scripts/pre-commit-helper.sh` - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞:
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ git
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –¥–µ–π—Å—Ç–≤–∏–π:
  1. –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
  2. –°–ø—Ä—è—Ç–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
  3. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º –æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞—Ö
- –ó–∞–ø—É—Å–∫–∞–µ—Ç pre-commit –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ –∫–æ–º–º–∏—Ç–∞
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö

## üöÄ –ù–æ–≤—ã–π workflow (—Å –∞–≤—Ç–æ—Ñ–∏–∫—Å–∞–º–∏!)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ helper
```bash
# 1. –£–º–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∫–æ–º–º–∏—Ç—É
make pre-commit

# 2. –ö–æ–º–º–∏—Ç —Å –∞–≤—Ç–æ—Ñ–∏–∫—Å–∞–º–∏
git commit -m "message"
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä—è–º–æ–π –ø–æ–¥—Ö–æ–¥
```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–∏–∑–±–µ–≥–∞–µ–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤)
git add .

# 2. –ö–æ–º–º–∏—Ç —Å –∞–≤—Ç–æ—Ñ–∏–∫—Å–∞–º–∏
git commit -m "message"
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –° stash
```bash
# 1. –°–ø—Ä—è—Ç–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git stash

# 2. –ö–æ–º–º–∏—Ç —Å –∞–≤—Ç–æ—Ñ–∏–∫—Å–∞–º–∏
git commit -m "message"

# 3. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git stash pop
```

## üìã –ß—Ç–æ –¥–µ–ª–∞–µ—Ç helper —Å–∫—Ä–∏–ø—Ç:

### –ê–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –Ω–µ–∑–∞—Å—Ç–µ–π–¥–∂–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∑–∞—Å—Ç–µ–π–¥–∂–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
1. **–î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ** - —Å–∞–º—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
2. **–°–ø—Ä—è—Ç–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è** - –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤–æ–∫
3. **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å** - —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º –æ —Ä–∏—Å–∫–∞—Ö

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞:
- –ó–∞–ø—É—Å–∫–∞–µ—Ç pre-commit –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ –∫–æ–º–º–∏—Ç–∞
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã –∑–∞—Ä–∞–Ω–µ–µ
- –î–∞–µ—Ç –≤—ã–±–æ—Ä –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:

1. **–°–æ—Ö—Ä–∞–Ω—è–µ–º –∞–≤—Ç–æ—Ñ–∏–∫—Å—ã** - –∫–æ–¥ –≤—Å–µ–≥–¥–∞ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω
2. **–£—Å—Ç—Ä–∞–Ω—è–µ–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã** - —Ä–∞–±–æ—Ç–∞–µ–º —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º git
3. **–ì–∏–±–∫–æ—Å—Ç—å** - 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –¥–µ–π—Å—Ç–≤–∏–π
4. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –ø–æ–Ω—è—Ç–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
5. **–ö–∞—á–µ—Å—Ç–≤–æ** - –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ –∫–æ–º–º–∏—Ç–∞

## üîÑ –§–∏–ª–æ—Å–æ—Ñ–∏—è "–Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º, –∞ –∏—Å–ø—Ä–∞–≤–ª—è–µ–º"

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∞—Ç—å –ø–æ–ª–µ–∑–Ω—ã–µ –∞–≤—Ç–æ—Ñ–∏–∫—Å—ã:
- **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º** –∫–æ—Ä–µ–Ω–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –ø—Ä–æ–±–ª–µ–º
- **–°–æ–∑–¥–∞–µ–º** –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π workflow
- **–°–æ—Ö—Ä–∞–Ω—è–µ–º** –≤—Å–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º** –≤—ã–±–æ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É

## ÔøΩ –í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ

–ï—Å–ª–∏ pre-commit –≤—Å–µ —Ä–∞–≤–Ω–æ –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫–∏:
```bash
# –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏
pre-commit run --all-files

# –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é –∏–ª–∏
git commit --no-verify  # –¢–æ–ª—å–∫–æ –≤ –∫—Ä–∞–π–Ω–µ–º —Å–ª—É—á–∞–µ
```

–ù–æ —Å–Ω–∞—á–∞–ª–∞ –≤—Å–µ–≥–¥–∞ –ø—ã—Ç–∞–µ–º—Å—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É, –∞ –Ω–µ –æ–±–æ–π—Ç–∏ –µ–µ!
